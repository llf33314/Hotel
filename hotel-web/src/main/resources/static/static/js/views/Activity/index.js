webpackJsonp([2],{103:function(t,e,o){o(270);var a=o(2)(o(173),o(294),"data-v-fbce5872",null);t.exports=a.exports},104:function(t,e,o){o(261);var a=o(2)(o(174),o(285),"data-v-62dff1a2",null);t.exports=a.exports},162:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(1),l=o(11),i=(o(7),o(103)),s=(o.n(i),o(104)),r=o.n(s),n=o(4),c=o(0),u=[{path:"/",redirect:function(t){return"/RoomType"}},{path:"/RoomType",component:r.a}];a.default.use(l.a);var m=new l.a({routes:u});new a.default({store:n.a,router:m}).$mount("#app"),c.a.backconfig({fn:function(t){n.a.commit("backConfig",t)}})},171:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(13),l=o.n(a),i=o(0),s=o(22),r=o.n(s),n=o(12);e.default={data:function(){return{arooms:{activityName:"",hotelId:this.$route.params.hotelId,id:null,activityTime:[],beginTime:"",endTime:"",availableTime:"",restrictionEnable:1,restrictionNumber:"",showRoomEnable:1,numberThreshold:"",activityRules:"",rooms:[],checkInTime:"",checkTime:[],checkInPeriod:"",checkOutPeriod:"",minPurchaseNumber:""},pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},rules:{activityName:[{required:!0,message:"请输入活动名称"}],activityTime:[{required:!0,message:"请选择活动时间"}],availableTime:[{required:!0,message:"请选择入住截止时间"}],restrictionNumber:[{required:!0,validator:n.integertest,message:"请输入房间限购数量"}],numberThreshold:[{required:!0,validator:n.integertest,message:"请输入剩余房间数"}],activityRules:[{required:!0,message:"请输入活动规则"}],checkInPeriod:[{required:!0,message:"请输入入住时间段"}],minPurchaseNumber:[{required:!0,validator:n.integertest,message:"请输入起订数量"}],checkInTime:[{required:!0,validator:n.integertest,message:"请输入入住时长"}],checkTime:[{required:!0,message:"选择住店时间"}]},Pricerules:{},dialogFormVisible:!1,RoomType:[],formInline:{roomNumber:"",categoryId:""},roomAll:[],multipleSelection:[],dialogFormVisible1:!1}},methods:{onSubmit:function(t){var e=this,a=this;this.$refs[t].validate(function(t){if(!t)return!1;if(/^\d+$/.test(a.arooms.availableTime)?a.arooms.activityTime[0].getTime()>a.arooms.availableTime&&e.$message.error("入住截止时间要大于活动开始时间"):a.arooms.activityTime[0].getTime()>a.arooms.availableTime.getTime()&&e.$message.error("入住截止时间要大于活动开始时间"),e.arooms.beginTime=o.i(n.DateFormat)(new Date(e.arooms.activityTime[0]).getTime(),"yyyy-MM-dd hh:mm:ss"),e.arooms.endTime=o.i(n.DateFormat)(new Date(e.arooms.activityTime[1]).getTime(),"yyyy-MM-dd hh:mm:ss"),e.arooms.checkTime[0]&&(e.arooms.checkInPeriod=o.i(n.TimeFormat)(e.arooms.checkTime[0])+":00"),e.arooms.checkTime[1]&&(e.arooms.checkOutPeriod=o.i(n.TimeFormat)(e.arooms.checkTime[1])+":00"),e.arooms.checkInPeriod&&e.arooms.checkOutPeriod){var s=e.arooms.checkInPeriod.split(":"),r=e.arooms.checkOutPeriod.split(":");if(60*s[0]*60+60*s[1]+(s[2]-0)+60*e.arooms.checkInTime*60>60*r[0]*60+60*r[1]+(r[2]-0))return e.$message.error("请输入正确的钟点房住店时段"),!1}var c=[];if(0==e.arooms.rooms.length)return e.$message.error("请添加房间"),!1;for(var u=0;u<e.arooms.rooms.length;u++)if(0==e.arooms.rooms[u].roomNum)return e.$message.error("请添加房间"),!1;e.arooms.rooms.forEach(function(t){t.roomNum.forEach(function(e){e.roomId?c.push({activityPrice:100*t.Price,categoryId:e.categoryId,categoryName:e.categoryName,hotelId:a.hotelId,rackRate:e.rackRate,roomId:e.roomId,roomNum:e.roomNum}):c.push({activityPrice:100*t.Price,categoryId:e.categoryId,categoryName:e.categoryName,hotelId:a.hotelId,rackRate:e.rackRate,roomId:e.id,roomNum:e.roomNum})},this)},e);var m=JSON.parse(l()(e.arooms));m.availableTime=o.i(n.DateFormat)(new Date(e.arooms.availableTime).getTime(),"yyyy-MM-dd hh:mm:ss"),m.rooms=c,m.activityType=e.activeName,i.g.editActivity({params:m,fn:function(t){e.dialogFormVisible1=!0;var o=e;e.$refs.arooms.resetFields(),setTimeout(function(){o.dialogFormVisible1=!1,o.arooms.restrictionNumber=null,o.arooms.numberThreshold=null,o.arooms.id=null,o.$emit("update:isActive",!0),o.$emit("update:editId","")},2e3)}})})},quitfn:function(t){this.$refs[t].resetFields(),this.arooms.restrictionNumber=null,this.arooms.numberThreshold=null,this.arooms.id="",this.$emit("update:editId",""),this.$emit("update:isActive",!0)},addroom:function(){var t=this;this.getroomtype(),this.getrooms(),this.dialogFormVisible=!0;var e=this;this.$nextTick(function(){e.$refs.multipleTable.clearSelection(),e.multipleSelection=[],e.arooms.rooms.forEach(function(o,a){o.roomNum.forEach(function(t){this.roomAll.forEach(function(o,a){t.roomId?parseInt(o.id)==parseInt(t.roomId)&&(e.$refs.multipleTable.toggleRowSelection(e.roomAll[a]),e.multipleSelection.push(e.roomAll[a])):parseInt(o.id)==parseInt(t.id)&&(e.$refs.multipleTable.toggleRowSelection(e.roomAll[a]),e.multipleSelection.push(e.roomAll[a]))},this)},t)},t)})},getroomtype:function(){var t=this;i.b.roomtypelist({params:{hotelId:this.hotelId},fn:function(e){t.RoomType=e.records,t.RoomType.unshift({categoryId:"",name:"全部"})}})},select:function(t,e,o){var a=this;this.multipleSelection.some(function(t){return t.id===e.id})?this.multipleSelection.forEach(function(t,l){t.id!==e.id||o||a.multipleSelection.splice(l,1)}):this.multipleSelection.push(e)},allSelect:function(t){var e=this;t.length?this.roomAll.forEach(function(t){e.select(null,t,!0)}):this.roomAll.forEach(function(t){e.select(null,t,!1)})},checkToggle:function(){var t=this;this.roomAll.forEach(function(e,o){t.multipleSelection.forEach(function(a){e.id===a.id&&t.$refs.multipleTable.toggleRowSelection(t.roomAll[o])})})},deletefn:function(t){var e=this,o=this.multipleSelection.splice(t,1);this.roomAll.forEach(function(t,a){t.id===o[0].id&&e.$refs.multipleTable.toggleRowSelection(t,!1)})},getrooms:function(){var t=this;i.b.allroom({Suffix:this.hotelId+"/roomAll",params:this.formInline,fn:function(e){t.roomAll=e,t.multipleSelection.length&&t.$nextTick(function(){t.checkToggle()})}})},handleEdit:function(t){this.arooms.rooms.splice(t,1)},confirmfn:function(){this.dialogFormVisible=!1;for(var t=[],e=0;e<this.multipleSelection.length;e++){var o=this.decide(t,this.multipleSelection[e].categoryName);-1!=o?t[o].roomNum.push(this.multipleSelection[e]):t.push({categoryName:this.multipleSelection[e].categoryName,rackRate:this.multipleSelection[e].rackRate/100,Price:"",roomNum:[this.multipleSelection[e]]})}this.arooms.rooms=t},decide:function(t,e){for(var o=0;o<t.length;o++)if(t[o].categoryName==e)return o;return-1},handleClose:function(t,e){t.splice(t.indexOf(e),1)}},mounted:function(){},watch:{editId:function(t,e){var o=this;this.$refs.arooms.resetFields(),this.arooms.restrictionNumber=null,this.arooms.numberThreshold=null,this.arooms.id=t,t&&i.g.getActivity({Suffix:t,fn:function(t){o.arooms=JSON.parse(l()(t)),o.$set(o.arooms,"activityTime",[]),o.$set(o.arooms,"checkTime",[]),o.arooms.beginTime&&o.arooms.endTime&&(o.arooms.activityTime[0]=new Date(o.arooms.beginTime),o.arooms.activityTime[1]=new Date(o.arooms.endTime)),o.arooms.checkInTime=o.arooms.detail.checkInTime,o.arooms.minPurchaseNumber=o.arooms.detail.minPurchaseNumber,o.arooms.detail.checkInPeriod&&o.arooms.detail.checkOutPeriod&&(o.arooms.checkTime[0]=new Date("January 12,2006 "+o.arooms.detail.checkInPeriod),o.arooms.checkTime[1]=new Date("January 12,2006 "+o.arooms.detail.checkOutPeriod));for(var e=[],a=0;a<o.arooms.rooms.length;a++){var i=o.decide(e,o.arooms.rooms[a].categoryName);-1!=i?e[i].roomNum.push(o.arooms.rooms[a]):e.push({categoryName:o.arooms.rooms[a].categoryName,rackRate:o.arooms.rooms[a].rackRate/100,Price:o.arooms.rooms[a].activityPrice/100,roomNum:[o.arooms.rooms[a]]})}o.arooms.rooms=null,o.arooms.rooms=e}})}},components:{confirm:r.a},props:["activeName","isActive","hotelId","editId"]}},173:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(0);e.default={data:function(){return{Hotellist:[]}},methods:{},mounted:function(){var t=this;a.a.Hotellist({fn:function(e){t.Hotellist=e.records}})}}},174:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(296),l=o.n(a),i=o(0);e.default={data:function(){return{flag:[!0,!1,!1,!1],hotelId:"",hotelId1:"",hotelId2:"",hotelId3:"",hotelId4:"",Hoteldata:[],activeName:"1",isActive:!0,SpecialOffer:[],HourRoom:[],Seckill:[],Together:[],currentPage1:1,currentPage2:1,currentPage3:1,currentPage4:1,stopid:"",deleteid:"",editId:"",openId:"",pages1:1,pages2:1,pages3:1,pages4:1,dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1}},methods:{changeHotel1:function(){this.hotelId=this.hotelId1,this.getdata(this.currentPage1,this.hotelId1,1)},changeHotel2:function(){this.hotelId=this.hotelId2,this.getdata(this.currentPage2,this.hotelId2,2)},changeHotel3:function(){this.hotelId=this.hotelId3,this.getdata(this.currentPage3,this.hotelId3,3)},changeHotel4:function(){this.hotelId=this.hotelId4,this.getdata(this.currentPage4,this.hotelId4,4)},NewlyAdded:function(){this.editId="",this.isActive=!1},filterTag1:function(t,e){return e.publishStatus===t},filterTag2:function(t,e){return e.publishStatus===t},filterTag3:function(t,e){return e.publishStatus===t},filterTag4:function(t,e){return e.publishStatus===t},handleEdit:function(t){this.editId=t,this.isActive=!1},handleStop:function(t){this.stopid=t,this.dialogFormVisible1=!0},Stopbtn:function(){var t=this,e=this;i.g.activityStop({params:"["+this.stopid+"]",fn:function(o){t.dialogFormVisible1=!1,t.$message({message:"停止成功",type:"success"}),setTimeout(function(){1==e.activeName?e.getdata(e.currentPage1,e.hotelId1,1):2==e.activeName?e.getdata(e.currentPage2,e.hotelId2,2):3==e.activeName?e.getdata(e.currentPage3,e.hotelId3,3):4==e.activeName&&e.getdata(e.currentPage4,e.hotelId4,4)},1e3)}})},openfn:function(t){this.openId=t,this.dialogFormVisible2=!0},openbtn:function(){var t=this;i.g.activityOpen({params:"["+this.openId+"]",fn:function(e){t.dialogFormVisible2=!1,t.$message({message:"开启成功",type:"success"});var o=t;setTimeout(function(){1==o.activeName?o.getdata(o.currentPage1,o.hotelId1,1):2==o.activeName?o.getdata(o.currentPage2,o.hotelId2,2):3==o.activeName?o.getdata(o.currentPage3,o.hotelId3,3):4==o.activeName&&o.getdata(o.currentPage4,o.hotelId4,4)},1e3)}})},handleClick:function(){var t=this;this.editId="",this.isActive=!0,2!=this.activeName||this.flag[1]||(this.flag[1]=!0,this.$nextTick(function(){t.hotelId2=t.Hoteldata[0].hotelId})),3!=this.activeName||this.flag[2]||(this.flag[2]=!0,this.$nextTick(function(){t.hotelId3=t.Hoteldata[0].hotelId})),3!=this.activeName||this.flag[3]||(this.flag[3]=!0,this.$nextTick(function(){t.hotelId4=t.Hoteldata[0].hotelId}))},handleDelete:function(t){this.deleteid=t,this.dialogFormVisible=!0},Deletebtn:function(){var t=this,e=this;i.g.activitydelete({params:"["+this.deleteid+"]",fn:function(o){t.dialogFormVisible=!1,t.$message({message:"删除成功",type:"success"}),setTimeout(function(){1==e.activeName?e.getdata(e.currentPage1,e.hotelId1,1):2==e.activeName?e.getdata(e.currentPage2,e.hotelId2,2):3==e.activeName?e.getdata(e.currentPage3,e.hotelId3,3):4==e.activeName&&e.getdata(e.currentPage4,e.hotelId4,4)},1e3)}})},handleCurrentChange1:function(t){this.getdata(this.currentPage1,this.hotelId1,1)},handleCurrentChange2:function(t){this.getdata(this.currentPage2,this.hotelId2,2)},handleCurrentChange3:function(t){this.getdata(this.currentPage3,this.hotelId3,3)},handleCurrentChange4:function(t){this.getdata(this.currentPage4,this.hotelId4,4)},getdata:function(t,e,o){var a=this;i.g.activitylist({params:{page:t,activityType:o,hotelId:e},fn:function(t){1==o?(a.SpecialOffer=t.records,a.pages1=t.pages):2==o?(a.HourRoom=t.records,a.pages2=t.pages):3==o?(a.Seckill=t.records,a.pages3=t.pages):4==o&&(a.Together=t.records,a.pages4=t.pages)}})}},mounted:function(){var t=this;i.a.Hotellist({fn:function(e){e.records?(t.Hoteldata=e.records,t.$nextTick(function(){t.hotelId1=e.records[0].hotelId})):t.$message("无酒店,请添加酒店")}})},components:{SetUp:l.a},watch:{isActive:function(t,e){var o=this;t&&(1==o.activeName?o.getdata(o.currentPage1,o.hotelId1,1):2==o.activeName?o.getdata(o.currentPage2,o.hotelId2,2):3==o.activeName?o.getdata(o.currentPage3,o.hotelId3,3):4==o.activeName&&o.getdata(o.currentPage4,o.hotelId4,4))}}}},260:function(t,e){},261:function(t,e){},270:function(t,e){},284:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"SetUp"},[o("el-form",{ref:"arooms",attrs:{model:t.arooms,rules:t.rules,"label-width":"180px"}},[o("el-form-item",{attrs:{label:"活动名称：",prop:"activityName"}},[o("el-input",{attrs:{placeholder:"请输入活动名称"},model:{value:t.arooms.activityName,callback:function(e){t.arooms.activityName=e},expression:"arooms.activityName"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"活动时段：",prop:"activityTime"}},[o("el-date-picker",{attrs:{type:"datetimerange",placeholder:"选择活动时间"},model:{value:t.arooms.activityTime,callback:function(e){t.arooms.activityTime=e},expression:"arooms.activityTime"}})],1),t._v(" "),o("el-form-item",{staticClass:"tishi",attrs:{label:"入住截止时间：",prop:"availableTime"}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择住店时间","picker-options":t.pickerOptions0},model:{value:t.arooms.availableTime,callback:function(e){t.arooms.availableTime=e},expression:"arooms.availableTime"}}),t._v(" "),o("p",[t._v("设置顾客可选择的入住时间是从活动开始时间到入住截止时间的范围内")])],1),t._v(" "),2==t.activeName?o("el-form-item",{attrs:{label:"钟点房入住时长：",prop:"checkInTime"}},[o("el-input",{attrs:{placeholder:"请输入入住时长"},model:{value:t.arooms.checkInTime,callback:function(e){t.arooms.checkInTime=e},expression:"arooms.checkInTime"}}),t._v(" 小时\n    ")],1):t._e(),t._v(" "),2==t.activeName?o("el-form-item",{staticClass:"tishi",attrs:{label:"钟点房住店时段：",prop:"checkTime"}},[o("el-time-picker",{attrs:{"is-range":"",placeholder:"选择住店时间"},model:{value:t.arooms.checkTime,callback:function(e){t.arooms.checkTime=e},expression:"arooms.checkTime"}}),t._v(" "),o("p",[t._v("顾客选择的实际入住时段需在此处设置的住店时段的范围内")])],1):t._e(),t._v(" "),4==t.activeName?o("el-form-item",{attrs:{label:"起订数量：",prop:"minPurchaseNumber"}},[o("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.arooms.minPurchaseNumber,callback:function(e){t.arooms.minPurchaseNumber=e},expression:"arooms.minPurchaseNumber"}}),t._v(" 间\n    ")],1):t._e(),t._v(" "),o("el-form-item",{attrs:{label:"房间限购："}},[o("el-switch",{attrs:{"on-text":"","off-text":"","on-value":0,"off-value":1},model:{value:t.arooms.restrictionEnable,callback:function(e){t.arooms.restrictionEnable=e},expression:"arooms.restrictionEnable"}}),t._v(" "),0==t.arooms.restrictionEnable?o("div",{staticClass:"limitbox"},[o("el-form-item",{attrs:{label:"每人限购：","label-width":"110px",prop:"restrictionNumber"}},[o("el-input",{attrs:{size:"small"},model:{value:t.arooms.restrictionNumber,callback:function(e){t.arooms.restrictionNumber=e},expression:"arooms.restrictionNumber"}}),t._v("间\n        ")],1)],1):t._e()],1),t._v(" "),o("el-form-item",{attrs:{label:"显示剩余房间数："}},[o("el-switch",{attrs:{"on-text":"","off-text":"","on-value":0,"off-value":1},model:{value:t.arooms.showRoomEnable,callback:function(e){t.arooms.showRoomEnable=e},expression:"arooms.showRoomEnable"}}),t._v(" "),0==t.arooms.showRoomEnable?o("div",{staticClass:"limitbox"},[o("el-form-item",{attrs:{label:"当房间剩余：","label-width":"110px",prop:"numberThreshold"}},[o("el-input",{attrs:{size:"small"},model:{value:t.arooms.numberThreshold,callback:function(e){t.arooms.numberThreshold=e},expression:"arooms.numberThreshold"}}),t._v("间时显示\n        ")],1)],1):t._e()],1),t._v(" "),o("el-form-item",{attrs:{label:"活动规则：",prop:"activityRules"}},[o("el-input",{attrs:{type:"textarea"},model:{value:t.arooms.activityRules,callback:function(e){t.arooms.activityRules=e},expression:"arooms.activityRules"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"选择房间：",prop:"rooms"}},[o("div",{staticClass:"ChooseRoom"},[o("el-button",{attrs:{type:"primary"},on:{click:t.addroom}},[t._v("添加房间")]),t._v(" "),o("p",[t._v("如需修改房间信息，请在房型管理中更新")]),t._v(" "),o("el-table",{staticStyle:{width:"835px"},attrs:{data:t.arooms.rooms}},[o("el-table-column",{attrs:{prop:"categoryName",label:"房间类型",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{prop:"rackRate",label:"原价(元)",width:"100"}}),t._v(" "),o("el-table-column",{attrs:{label:"价格(元)",width:"150"},scopedSlots:t._u([{key:"default",fn:function(t){return[o("el-form-item",{staticClass:"abc",attrs:{label:""}},[o("el-input",{model:{value:t.row.Price,callback:function(e){t.row.Price=e},expression:"scope.row.Price"}})],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"number",label:"房间号"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.roomNum,function(a){return o("el-tag",{key:a.roomNum,attrs:{closable:!0,"close-transition":!1},on:{close:function(o){t.handleClose(e.row.roomNum,a)}}},[t._v("\n                "+t._s(a.roomNum)+"\n              ")])})}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"small"},on:{click:function(o){t.handleEdit(e.$index)}}},[t._v("删除")])]}}])})],1)],1)]),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("arooms")}}},[t._v("保存")]),t._v(" "),o("el-button",{on:{click:function(e){t.quitfn("arooms")}}},[t._v("返回")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"选择房间",visible:t.dialogFormVisible,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"fullmodal SetUpmodal"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[o("el-form-item",{attrs:{label:"房间类型："}},[o("el-select",{attrs:{placeholder:"活动区域"},on:{change:t.getrooms},model:{value:t.formInline.categoryId,callback:function(e){t.formInline.categoryId=e},expression:"formInline.categoryId"}},t._l(t.RoomType,function(t){return o("el-option",{key:t.categoryId,attrs:{label:t.name,value:t.categoryId}})}))],1),t._v(" "),o("el-input",{attrs:{placeholder:"输入房间号",icon:"search","on-icon-click":t.getrooms},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.getrooms(e)}},model:{value:t.formInline.roomNumber,callback:function(e){t.formInline.roomNumber=e},expression:"formInline.roomNumber"}})],1),t._v(" "),o("div",{staticClass:"Delivery-box clearfix"},[o("el-table",{ref:"multipleTable",staticStyle:{width:"300px"},attrs:{data:t.roomAll,height:"440","tooltip-effect":"dark"},on:{select:t.select,"select-all":t.allSelect}},[o("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),o("el-table-column",{attrs:{prop:"roomNum",label:"选择房号"}}),t._v(" "),o("el-table-column",{attrs:{prop:"categoryName"}})],1),t._v(" "),o("i",{staticClass:"el-icon-arrow-right Delivery"}),t._v(" "),o("div",{staticClass:"Delivery-right"},[o("div",{staticClass:"Delivery-top"},[t._v("\n          已选择（"+t._s(t.multipleSelection.length)+"）\n        ")]),t._v(" "),o("div",{staticClass:"Delivery-items"},t._l(t.multipleSelection,function(e,a){return o("div",{key:a,staticClass:"Delivery-item"},[o("span",{staticClass:"item-left"},[t._v(t._s(e.roomNum))]),t._v(" "),o("span",[t._v(t._s(e.categoryName))]),t._v(" "),o("i",{staticClass:"el-icon-close fr",on:{click:function(e){t.deletefn(a)}}})])}))])],1),t._v(" "),o("div",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.confirmfn}},[t._v("确 定")]),t._v(" "),o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"提示",visible:t.dialogFormVisible1,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal storey"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[o("confirm",{attrs:{Popup:"保存成功"}})],1)],1)},staticRenderFns:[]}},285:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"RoomType"},[o("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{attrs:{label:"特价房",name:"1"}},[t.flag[0]?o("div",{staticClass:"RoomType-region",class:{active:!t.isActive}},[o("div",{staticClass:"video-top"},[o("span",[t._v("说明：")]),t._v(" "),o("p",[t._v("【特价房】用于设置手机端的特价房活动，可供手机端单独使用。若商家同时开通手机端和ERP端时，手机端的特价房订房信息亦能同步到ERP端。")]),t._v(" "),o("div",{staticClass:"clearfix"},[t.Hoteldata?o("el-form",{staticClass:"demo-form-inline fl Hoteldata",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"选择酒店："}},[o("el-select",{attrs:{placeholder:"请选择酒店"},on:{change:t.changeHotel1},model:{value:t.hotelId1,callback:function(e){t.hotelId1=e},expression:"hotelId1"}},t._l(t.Hoteldata,function(t){return o("el-option",{key:t.hotelId,attrs:{label:t.name,value:t.hotelId}})}))],1)],1):t._e(),t._v(" "),o("el-button",{staticClass:"video fr",attrs:{type:"warning",size:"small"}},[o("i",{staticClass:"iconfont icon-shipin"}),t._v("视频教程")])],1),t._v(" "),t.Hoteldata?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.NewlyAdded}},[t._v("新增")]):t._e()],1),t._v(" "),o("div",{staticClass:"RoomType-bottom plr50"},[t.Hoteldata?o("h2",[t._v("已创建的特价房活动列表")]):t._e(),t._v(" "),t.Hoteldata?o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.SpecialOffer}},[o("el-table-column",{attrs:{prop:"activityStatus",label:"活动状态",filters:[{text:"未开始",value:1},{text:"进行中",value:0},{text:"已结束",value:2},{text:"已停止",value:3}],"filter-method":t.filterTag1,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.publishStatus?o("el-tag",{attrs:{type:"warning","close-transition":""}},[t._v("未开始")]):0==e.row.publishStatus?o("el-tag",{attrs:{type:"success","close-transition":""}},[t._v("进行中")]):2==e.row.publishStatus?o("el-tag",{attrs:{type:"danger","close-transition":""}},[t._v("已结束")]):o("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v("已停止")])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"activityName",label:"活动名称"}}),t._v(" "),o("el-table-column",{attrs:{label:"活动开始时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.beginTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"活动结束时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.endTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"创建时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.createdAt))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.publishStatus&&3!=e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleEdit(e.row.id)}}},[t._v("编辑")]):t._e(),t._v(" "),0==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleStop(e.row.id)}}},[t._v("停止")]):t._e(),t._v(" "),3==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.openfn(e.row.id)}}},[t._v("开启")]):t._e(),t._v(" "),0!=e.row.publishStatus?o("el-button",{attrs:{size:"small"},on:{click:function(o){t.handleDelete(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1):t._e(),t._v(" "),t.pages1>1?o("el-pagination",{attrs:{"page-count":t.pages1,"current-page":t.currentPage1,layout:"prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange1,"update:currentPage":function(e){t.currentPage1=e}}}):t._e()],1)]):t._e()]),t._v(" "),o("el-tab-pane",{attrs:{label:"钟点房",name:"2"}},[t.flag[1]?o("div",{staticClass:"RoomType-region",class:{active:!t.isActive}},[o("div",{staticClass:"video-top"},[o("span",[t._v("说明：")]),t._v(" "),o("p",[t._v("【钟点房】用于设置钟点房活动，可供手机端单独使用，也可作为对ERP端预订/入住业务中入住标准的钟点房设置")]),t._v(" "),o("div",{staticClass:"clearfix"},[t.Hoteldata?o("el-form",{staticClass:"demo-form-inline fl Hoteldata",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"选择酒店："}},[o("el-select",{attrs:{placeholder:"请选择酒店"},on:{change:t.changeHotel2},model:{value:t.hotelId2,callback:function(e){t.hotelId2=e},expression:"hotelId2"}},t._l(t.Hoteldata,function(t){return o("el-option",{key:t.hotelId,attrs:{label:t.name,value:t.hotelId}})}))],1)],1):t._e(),t._v(" "),o("el-button",{staticClass:"video fr",attrs:{type:"warning",size:"small"}},[o("i",{staticClass:"iconfont icon-shipin"}),t._v("视频教程")])],1),t._v(" "),t.Hoteldata?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.NewlyAdded}},[t._v("新增")]):t._e()],1),t._v(" "),o("div",{staticClass:"RoomType-bottom plr50"},[t.Hoteldata?o("h2",[t._v("已创建的钟点房活动列表")]):t._e(),t._v(" "),t.Hoteldata?o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.HourRoom}},[o("el-table-column",{attrs:{prop:"activityStatus",label:"活动状态",filters:[{text:"未开始",value:1},{text:"进行中",value:0},{text:"已结束",value:2},{text:"已停止",value:3}],"filter-method":t.filterTag2,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.publishStatus?o("el-tag",{attrs:{type:"warning","close-transition":""}},[t._v("未开始")]):0==e.row.publishStatus?o("el-tag",{attrs:{type:"success","close-transition":""}},[t._v("进行中")]):2==e.row.publishStatus?o("el-tag",{attrs:{type:"danger","close-transition":""}},[t._v("已结束")]):o("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v("停止")])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"activityName",label:"活动名称"}}),t._v(" "),o("el-table-column",{attrs:{label:"活动开始时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.beginTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"活动结束时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.endTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"创建时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.createdAt))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.publishStatus&&3!=e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleEdit(e.row.id)}}},[t._v("编辑")]):t._e(),t._v(" "),0==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleStop(e.row.id)}}},[t._v("停止")]):t._e(),t._v(" "),3==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.openfn(e.row.id)}}},[t._v("开启")]):t._e(),t._v(" "),0!=e.row.publishStatus?o("el-button",{attrs:{size:"small"},on:{click:function(o){t.handleDelete(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1):t._e(),t._v(" "),t.pages2>1?o("el-pagination",{attrs:{"page-count":t.pages2,"current-page":t.currentPage2,layout:"prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange2,"update:currentPage":function(e){t.currentPage2=e}}}):t._e()],1)]):t._e()]),t._v(" "),o("el-tab-pane",{attrs:{label:"秒杀房",name:"3"}},[t.flag[2]?o("div",{staticClass:"RoomType-region",class:{active:!t.isActive}},[o("div",{staticClass:"video-top"},[o("span",[t._v("说明：")]),t._v(" "),o("p",[t._v("【秒杀房】用于设置手机端的秒杀房活动，可供手机端单独使用。若商家同时开通手机端和ERP端时，手机端的秒杀房订房信息亦能同步到ERP端。")]),t._v(" "),o("div",{staticClass:"clearfix"},[t.Hoteldata?o("el-form",{staticClass:"demo-form-inline fl Hoteldata",attrs:{inline:!0}},[o("el-form-item",{attrs:{label:"选择酒店："}},[o("el-select",{attrs:{placeholder:"请选择酒店"},on:{change:t.changeHotel3},model:{value:t.hotelId3,callback:function(e){t.hotelId3=e},expression:"hotelId3"}},t._l(t.Hoteldata,function(t){return o("el-option",{key:t.hotelId,attrs:{label:t.name,value:t.hotelId}})}))],1)],1):t._e(),t._v(" "),o("el-button",{staticClass:"video fr",attrs:{type:"warning",size:"small"}},[o("i",{staticClass:"iconfont icon-shipin"}),t._v("视频教程")])],1),t._v(" "),t.Hoteldata?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.NewlyAdded}},[t._v("新增")]):t._e()],1),t._v(" "),o("div",{staticClass:"RoomType-bottom plr50"},[t.Hoteldata?o("h2",[t._v("已创建的秒杀房活动列表")]):t._e(),t._v(" "),t.Hoteldata?o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Seckill}},[o("el-table-column",{attrs:{prop:"activityStatus",label:"活动状态",filters:[{text:"未开始",value:1},{text:"进行中",value:0},{text:"已结束",value:2},{text:"已停止",value:3}],"filter-method":t.filterTag3,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.publishStatus?o("el-tag",{attrs:{type:"warning","close-transition":""}},[t._v("未开始")]):0==e.row.publishStatus?o("el-tag",{attrs:{type:"success","close-transition":""}},[t._v("进行中")]):2==e.row.publishStatus?o("el-tag",{attrs:{type:"danger","close-transition":""}},[t._v("已结束")]):o("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v("停止")])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"activityName",label:"活动名称"}}),t._v(" "),o("el-table-column",{attrs:{label:"活动开始时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.beginTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"活动结束时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.endTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"创建时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.createdAt))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.publishStatus&&3!=e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleEdit(e.row.id)}}},[t._v("编辑")]):t._e(),t._v(" "),0==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleStop(e.row.id)}}},[t._v("停止")]):t._e(),t._v(" "),3==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.openfn(e.row.id)}}},[t._v("开启")]):t._e(),t._v(" "),0!=e.row.publishStatus?o("el-button",{attrs:{size:"small"},on:{click:function(o){t.handleDelete(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1):t._e(),t._v(" "),t.pages3>1?o("el-pagination",{attrs:{"page-count":t.pages3,"current-page":t.currentPage3,layout:"prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange3,"update:currentPage":function(e){t.currentPage3=e}}}):t._e()],1)]):t._e()]),t._v(" "),o("el-tab-pane",{attrs:{label:"团购房",name:"4"}},[t.flag[3]?o("div",{staticClass:"RoomType-region",class:{active:!t.isActive}},[o("div",{staticClass:"video-top"},[o("span",[t._v("说明：")]),t._v(" "),o("p",[t._v("【团购房】用于设置团购房活动，可供手机端单独使用，也可作为对ERP端预订/入住业务中入住方式的团购设置")]),t._v(" "),o("div",{staticClass:"clearfix"},[o("el-form",{staticClass:"demo-form-inline fl Hoteldata",attrs:{inline:!0}},[t.Hoteldata?o("el-form-item",{attrs:{label:"选择酒店："}},[o("el-select",{attrs:{placeholder:"请选择酒店"},on:{change:t.changeHotel4},model:{value:t.hotelId4,callback:function(e){t.hotelId4=e},expression:"hotelId4"}},t._l(t.Hoteldata,function(t){return o("el-option",{key:t.hotelId,attrs:{label:t.name,value:t.hotelId}})}))],1):t._e()],1),t._v(" "),o("el-button",{staticClass:"video fr",attrs:{type:"warning",size:"small"}},[o("i",{staticClass:"iconfont icon-shipin"}),t._v("视频教程")])],1),t._v(" "),t.Hoteldata?o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.NewlyAdded}},[t._v("新增")]):t._e()],1),t._v(" "),o("div",{staticClass:"RoomType-bottom plr50"},[t.Hoteldata?o("h2",[t._v("已创建的团购房活动列表")]):t._e(),t._v(" "),t.Hoteldata?o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.Together}},[o("el-table-column",{attrs:{prop:"activityStatus",label:"活动状态",filters:[{text:"未开始",value:1},{text:"进行中",value:0},{text:"已结束",value:2},{text:"已停止",value:3}],"filter-method":t.filterTag4,"filter-placement":"bottom-end"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.publishStatus?o("el-tag",{attrs:{type:"warning","close-transition":""}},[t._v("未开始")]):0==e.row.publishStatus?o("el-tag",{attrs:{type:"success","close-transition":""}},[t._v("进行中")]):2==e.row.publishStatus?o("el-tag",{attrs:{type:"danger","close-transition":""}},[t._v("已结束")]):o("el-tag",{attrs:{type:"primary","close-transition":""}},[t._v("停止")])]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"activityName",label:"活动名称"}}),t._v(" "),o("el-table-column",{attrs:{label:"活动开始时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.beginTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"活动结束时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.endTime))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{prop:"name",label:"创建时间","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                "+t._s(t._f("parseTime")(e.row.createdAt))+"\n                            ")]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!=e.row.publishStatus&&3!=e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleEdit(e.row.id)}}},[t._v("编辑")]):t._e(),t._v(" "),0==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.handleStop(e.row.id)}}},[t._v("停止")]):t._e(),t._v(" "),3==e.row.publishStatus?o("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(o){t.openfn(e.row.id)}}},[t._v("开启")]):t._e(),t._v(" "),0!=e.row.publishStatus?o("el-button",{attrs:{size:"small"},on:{click:function(o){t.handleDelete(e.row.id)}}},[t._v("删除")]):t._e()]}}])})],1):t._e(),t._v(" "),t.pages4>1?o("el-pagination",{attrs:{"page-count":t.pages4,"current-page":t.currentPage4,layout:"prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange4,"update:currentPage":function(e){t.currentPage4=e}}}):t._e()],1)]):t._e()])],1),t._v(" "),o("SetUp",{class:{active:t.isActive},attrs:{isActive:t.isActive,editId:t.editId,activeName:t.activeName,hotelId:t.hotelId},on:{"update:isActive":function(e){t.isActive=e},"update:editId":function(e){t.editId=e}}}),t._v(" "),o("el-dialog",{attrs:{visible:t.dialogFormVisible,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("p",[t._v("确认删除吗？")]),t._v(" "),o("div",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.Deletebtn}},[t._v("确 定")]),t._v(" "),o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")])],1)]),t._v(" "),o("el-dialog",{attrs:{visible:t.dialogFormVisible1,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal"},on:{"update:visible":function(e){t.dialogFormVisible1=e}}},[o("p",[t._v("确认停止吗？")]),t._v(" "),o("div",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.Stopbtn}},[t._v("确 定")]),t._v(" "),o("el-button",{on:{click:function(e){t.dialogFormVisible1=!1}}},[t._v("取 消")])],1)]),t._v(" "),o("el-dialog",{attrs:{visible:t.dialogFormVisible2,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[o("p",[t._v("确认停止吗？")]),t._v(" "),o("div",{staticClass:"dialog-footer",slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:t.openbtn}},[t._v("确 定")]),t._v(" "),o("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")])],1)])],1)},staticRenderFns:[]}},294:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Increase"},[o("div",{staticClass:"pl50"},[t._m(0),t._v(" "),o("div",{staticClass:"clearfix"},t._l(t.Hotellist,function(e,a){return o("div",{key:a,staticClass:"item"},[o("div",{staticClass:"above clearfix"},[o("img",{attrs:{src:e.logoUrl}}),t._v(" "),o("div",{staticClass:"text"},[o("el-tooltip",{attrs:{effect:"dark",content:e.name,placement:"top-start"}},[o("h3",[t._v(t._s(e.name))])]),t._v(" "),o("el-tooltip",{attrs:{effect:"dark",content:e.phone,placement:"top-start"}},[o("p",[t._v("联系电话："+t._s(e.phone))])]),t._v(" "),o("el-tooltip",{attrs:{effect:"dark",content:e.address,placement:"top-start"}},[o("p",{staticClass:"ellipsis"},[t._v("地址："+t._s(e.address))])])],1)]),t._v(" "),o("div",{staticClass:"item-bottom"},[o("router-link",{staticClass:"el-button blue-button el-button--default el-button--small",attrs:{to:"/RoomType/"+e.hotelId,tag:"el-button"}},[t._v("活动设置")])],1)])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"Increase-title"},[o("h2",[t._v("已创建的酒店")])])}]}},296:function(t,e,o){o(260);var a=o(2)(o(171),o(284),null,null);t.exports=a.exports}},[162]);