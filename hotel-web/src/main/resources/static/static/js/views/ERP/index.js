webpackJsonp([4],{108:function(t,e,a){a(263);var o=a(2)(a(178),a(287),null,null);t.exports=o.exports},109:function(t,e,a){a(258);var o=a(2)(a(179),a(282),"data-v-57c1003b",null);t.exports=o.exports},164:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(1),l=a(11),i=(a(7),a(108)),s=a.n(i),n=a(109),r=a.n(n),c=a(4),d=a(0),u=[{path:"/",redirect:function(t){return"/ERP"}},{path:"/ERP",component:s.a},{path:"/ERPSet/:hotelId/:shopId",component:r.a}];o.default.use(l.a);var p=new l.a({routes:u});new o.default({store:c.a,router:p}).$mount("#app"),d.a.backconfig({fn:function(t){c.a.commit("backConfig",t)}})},178:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(0);e.default={data:function(){return{Hotellist:[]}},methods:{},mounted:function(){var t=this;o.a.Hotellist({fn:function(e){t.Hotellist=e.records}})}}},179:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(13),l=a.n(o),i=a(0),s=a(12),n=(a(4),a(22)),r=a.n(n);e.default={data:function(){return{activeName:"first",hotelId1:"",hotelId2:"",hotelId3:"",hotelId4:"",Hoteldata:[],flag:[!0,!1,!1],hotelId:this.$route.params.hotelId,shopId:this.$route.params.shopId,vipOptions:[{id:1,text:"VIP1"},{id:1,text:"VIP2"},{id:1,text:"VIP3"},{id:1,text:"VIP4"}],Receptiondata:{logo:null,time1:new Date(2016,9,10,14,0),time2:new Date(2016,9,10,14,0),time3:new Date(2016,9,10,14,0),time4:new Date(2016,9,10,14,0)},library:!1,materialUrl:"",rules:{logo:[{required:!0,message:"请上传酒店logo"}]},roomdata:[],roompage:1,roompages:1,newtitle:"新增长包房规则",options:[],newdata:{id:null,categoryId:null,hotelId:this.$route.params.hotelId,ruleName:null,checkInDay:null,discount:null,deposit:null},rules2:{categoryId:[{required:!0,message:"请选择房间类型"}],ruleName:[{required:!0,message:"请输入规则名称"}],checkInDay:[{required:!0,validator:s.integertest,message:"请输入起订天数"}],discount:[{required:!0,validator:s.checknum,message:"请输入折扣率"}],deposit:[{required:!0,validator:s.integertest,message:"请输入押金"}]},deleteroomid:null,keyword:"",authorFuncdata:null,authorFun:[],storedata:null,selectProduct:[],localWorks:[],storePage:1,storePages:1,selectNum:0,currentPage3:1,tauthorlist:[],tauthorpages:1,powerdleEditid:null,powerCloseid:"",imgURL:"",dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,dialogFormVisible3:!1,dialogFormVisible4:!1,dialogFormVisible5:!1,dialogFormVisible6:!1,baseURL:""}},methods:{changeHotel1:function(){var t=this;this.$refs.Receptiondata.resetFields(),i.e.ERPReception({Suffix:this.hotelId1,fn:function(e){if(t.Receptiondata=JSON.parse(l()(e)),t.vipOptions=[],0!=t.Receptiondata.memberSetting.length){for(var a=0;a<4;a++)t.Receptiondata.memberSetting.forEach(function(t,e){a+1==t.vipLevel&&this.vipOptions.push({id:t.freeDepositEnable,text:"VIP"+(a+1)})},t);t.$set(t.Receptiondata,"time1",new Date(2016,9,10,14,0)),t.$set(t.Receptiondata,"time2",new Date(2016,9,10,14,0)),t.$set(t.Receptiondata,"time3",new Date(2016,9,10,14,0)),t.$set(t.Receptiondata,"time4",new Date(2016,9,10,14,0));for(var o=0;o<4;o++)if(t.Receptiondata.memberSetting[o].vipCheckOut){var i=t.Receptiondata.memberSetting[o].vipLevel;t.Receptiondata["time"+i]=new Date("January 12,2006 "+t.Receptiondata.memberSetting[o].vipCheckOut+":35")}}else for(var s=0;s<4;s++)t.vipOptions.push({id:1,text:"VIP"+(s+1)})}})},changeHotel2:function(){this.getroomdata()},changeHotel3:function(){var t=this,e=this;this.Hoteldata.forEach(function(t){t.hotelId==e.hotelId3&&(e.shopId=t.shopId)}),this.getauthor(),this.getstaff(),i.e.ERPChoice({fn:function(e){t.authorFuncdata=e.records}})},handleClick:function(){var t=this;"second"!=this.activeName||this.flag[1]||(this.flag[1]=!0,this.$nextTick(function(){t.Hoteldata?t.hotelId2=t.Hoteldata[0].hotelId:t.$message("无酒店,请添加酒店")})),"third"!=this.activeName||this.flag[2]||(this.flag[2]=!0,this.$nextTick(function(){t.Hoteldata?t.hotelId3=t.Hoteldata[0].hotelId:t.$message("无酒店,请添加酒店")}))},materiallayer:function(){this.library=!0},onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.Receptiondata.hotelId=e.hotelId1,e.Receptiondata.memberSetting=[];for(var o=0;o<4;o++){var l={freeDepositEnable:e.vipOptions[o].id,hotelId:e.hotelId,vipLevel:o+1,vipCheckOut:a.i(s.TimeFormat)(e.Receptiondata["time"+(o+1)])};e.Receptiondata.memberSetting.push(l)}i.e.ReceptionRenew({params:e.Receptiondata,fn:function(t){var a=e;e.dialogFormVisible3=!0,setTimeout(function(){a.dialogFormVisible3=!1},3e3)}})})},getroomdata:function(){var t=this;i.e.ERProomlist({Suffix:this.hotelId2+"/roomPermanent",params:{hotelId:this.hotelId2,page:this.roompage},fn:function(e){t.roomdata=e.records,t.roompages=e.pages}})},roomChange:function(){this.getroomdata()},newadd:function(){var t=this;i.b.roomtypelist({params:{hotelId:this.hotelId2},fn:function(e){t.options=e.records}}),this.newdata.id="",this.newtitle="新增长包房规则",this.dialogFormVisible=!0},cancelfn:function(t){this.$refs.newdata.resetFields(),this.dialogFormVisible=!1},handleDelete:function(t){this.deleteroomid=t.id,this.dialogFormVisible4=!0},referTo:function(t){var e=this,a=this;this.$refs[t].validate(function(o){if(!o)return!1;var s=JSON.parse(l()(e.newdata));s.discount=100*s.discount,s.deposit=100*s.deposit,i.e.ERProomnew({Suffix:e.hotelId2+"/roomPermanent",params:s,fn:function(o){e.$refs[t].resetFields(),e.dialogFormVisible=!1,"新增长包房规则"==e.newtitle?e.$message({showClose:!0,message:"新增成功",type:"success"}):e.$message({showClose:!0,message:"修改成功",type:"success"}),setTimeout(function(){a.getroomdata()},1e3)}})})},handleEdit:function(t){var e=this,a=JSON.parse(l()(t));i.b.roomtypelist({params:{hotelId:this.hotelId2},fn:function(t){e.options=t.records,console.log(e.options),e.$nextTick(function(){e.newdata=a,-1==e.decide(e.options,a.categoryId)&&(e.newdata.categoryId=""),e.newdata.discount=a.discount/100,e.newdata.deposit=a.deposit/100,e.newtitle="编辑",e.dialogFormVisible=!0})}})},deleteroomfn:function(){var t=this,e=this;i.e.ERProomdelete({Suffix:this.hotelId2+"/roomPermanent",params:"["+this.deleteroomid+"]",fn:function(a){t.dialogFormVisible4=!1,t.$message({showClose:!0,message:"删除成功",type:"success"}),setTimeout(function(){e.getroomdata()},1e3)}})},getstaff:function(){var t=this,e=this;i.e.ERPstaff({Suffix:this.shopId,params:{shopId:this.shopId,page:this.currentPage3,keyword:this.keyword},fn:function(a){t.storedata=a.records,t.storePages=a.pages,""!=e.keyword&&(t.storePage=1,t.storePages=1),t.selectProduct.length&&t.$nextTick(function(){t.checkToggle()})}})},checkToggle:function(){var t=this;this.storedata.forEach(function(e,a){t.selectProduct.forEach(function(o){e.id===o.id&&t.$refs.multipleSelection.toggleRowSelection(t.storedata[a])})})},storeCurrentChange:function(t){this.currentPage3=t,this.getstaff()},select:function(t,e,a){var o=this;this.selectProduct.some(function(t){return t.id===e.id})?this.selectProduct.forEach(function(t,l){t.id!==e.id||a||o.selectProduct.splice(l,1)}):this.selectProduct.push(e)},allSelect:function(t){var e=this;t.length?this.storedata.forEach(function(t){e.select(null,t,!0)}):this.storedata.forEach(function(t){e.select(null,t,!1)})},toggleSelection:function(t){var e=this,a=this.selectProduct.splice(t,1);this.storedata.forEach(function(t,o){t.id===a[0].id&&e.$refs.multipleSelection.toggleRowSelection(t,!1)})},addPreservation:function(){var t=this,e=this;if(0==this.authorFun.length)return this.$message({message:"请选择功能",type:"warning"}),!1;if(0==this.selectProduct.length)return this.$message({message:"请选择授权人",type:"warning"}),!1;var a=[];this.selectProduct.forEach(function(t){a.push({accountId:t.id,functionIds:this.authorFun.join(","),hotelId:this.hotelId,shopId:this.hotelId})},this),i.e.ERPaddpower({Suffix:this.hotelId+"/author",params:a,fn:function(a){t.dialogFormVisible1=!1,t.$message({message:"新增授权人成功",type:"success"}),t.authorFun=[],t.$refs.multipleSelection.clearSelection(),t.selectProduct=[],t.storePage=1,setTimeout(function(){e.getauthor()},1e3)}})},powercancel:function(){this.dialogFormVisible1=!1,this.authorFun=[],this.$refs.multipleSelection.clearSelection(),this.selectProduct=[],this.storePage=1},getauthor:function(){var t=this;i.e.ERPauthorizationlist({Suffix:this.hotelId3+"/author",params:{hotelId:this.hotelId3,page:this.currentPage3,shopId:this.shopId},fn:function(e){t.tauthorlist=e.records,t.tauthorpages=e.pages}})},powerDelete:function(t){this.dialogFormVisible2=!0,this.powerdleEditid=t.id},powerdleEditfn:function(){var t=this,e=this;i.e.ERPpowerdelete({Suffix:this.hotelId3+"/author",params:"["+this.powerdleEditid+"]",fn:function(a){t.dialogFormVisible2=!1,t.$message({message:"删除授权人成功",type:"success"}),setTimeout(function(){e.getauthor()},1e3)}})},powerClosebtn:function(t){this.dialogFormVisible5=!0,this.powerCloseid=t.id},powerClosefn:function(){var t=this,e=this;i.e.ERPpowerClose({Suffix:this.hotelId3+"/author/"+this.powerCloseid+"/close",params:"["+this.powerdleEditid+"]",fn:function(a){t.dialogFormVisible5=!1,t.$message({message:"关闭授权人成功",type:"success"}),setTimeout(function(){e.getauthor()},1e3)}})},poweropenbtn:function(t){this.imgURL=this.baseURL+"/back/erp/"+this.hotelId3+"/author/"+t.id+"/open",this.dialogFormVisible6=!0},beforeClosefn:function(){this.dialogFormVisible6=!1,this.getauthor()},decide:function(t,e){for(var a=0;a<t.length;a++)if(t[a].categoryId==e)return a;return-1}},mounted:function(){var t=this,e=this;this.$store.dispatch("getbackconfig").then(function(){t.baseURL=t.$store.state.baseURL,t.materialUrl=t.$store.state.library}),window.addEventListener("message",function(t){var a=t.data.length-1;if(!t.data.length)return!1;var o=[];t.data.substring(6,a).split(",").forEach(function(t){o.push(t.substring(1,t.length-1))}),o[1]&&(e.Receptiondata.logo=o[1]),e.library=!1}),i.a.Hotellist({fn:function(e){e.records?(t.Hoteldata=e.records,t.$nextTick(function(){t.hotelId1=e.records[0].hotelId})):t.$message("无酒店,请添加酒店")}})},components:{Confirm:r.a}}},258:function(t,e){},263:function(t,e){},282:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ERPSet"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"ERP前台设置",name:"first"}},[t.Hoteldata?a("div",{staticClass:"video-top"},[a("el-form",{staticClass:"demo-form-inline Hoteldata Hoteldata1",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"选择酒店："}},[a("el-select",{attrs:{placeholder:"请选择酒店"},on:{change:t.changeHotel1},model:{value:t.hotelId1,callback:function(e){t.hotelId1=e},expression:"hotelId1"}},t._l(t.Hoteldata,function(t){return a("el-option",{key:t.hotelId,attrs:{label:t.name,value:t.hotelId}})}))],1)],1)],1):t._e(),t._v(" "),t.Hoteldata?a("div",{staticClass:"first-box"},[a("el-form",{ref:"Receptiondata",attrs:{rules:t.rules,model:t.Receptiondata,"label-width":"150px"}},[a("el-form-item",{staticClass:"uploader-box",attrs:{label:"酒店logo：",prop:"logo"}},[a("div",{staticClass:"avatar-uploader",on:{click:t.materiallayer}},[t.Receptiondata.logo?t._e():a("div",{staticClass:"el-upload el-upload--text"},[a("i",{staticClass:"el-icon-plus avatar-uploader-icon",attrs:{"data-v-57c1003b":""}}),t._v(" "),a("input",{staticClass:"el-upload__input",attrs:{type:"file",name:"file"}})]),t._v(" "),t.Receptiondata.logo?a("img",{attrs:{src:t.Receptiondata.logo,alt:""}}):t._e()]),t._v(" "),a("span",{staticClass:"logotext"},[t._v("logo为ERP顶部图片，尺寸140*70px")])]),t._v(" "),a("el-form-item",{attrs:{label:"会员尊享设定："}},[a("div",{staticClass:"enactment"},[a("el-form-item",{staticStyle:{height:"36px"},attrs:{label:"免押金的会员等级："}},t._l(t.vipOptions,function(e){return a("el-checkbox",{key:e.id,attrs:{"true-label":0,"false-label":1,label:e.id},model:{value:e.id,callback:function(t){e.id=t},expression:"vipitem.id"}},[t._v(t._s(e.text))])})),t._v(" "),a("el-form-item",{attrs:{label:"会员最晚退房时间："}}),t._v(" "),a("el-form-item",{staticClass:"timelabel",attrs:{label:"VIP1："}},[a("el-time-picker",{attrs:{format:"HH:mm",size:"small",placeholder:"请选择最晚退房时间"},model:{value:t.Receptiondata.time1,callback:function(e){t.Receptiondata.time1=e},expression:"Receptiondata.time1"}})],1),t._v(" "),a("el-form-item",{staticClass:"timelabel",attrs:{label:"VIP2："}},[a("el-time-picker",{attrs:{format:"HH:mm",size:"small",placeholder:"请选择最晚退房时间"},model:{value:t.Receptiondata.time2,callback:function(e){t.Receptiondata.time2=e},expression:"Receptiondata.time2"}})],1),t._v(" "),a("el-form-item",{staticClass:"timelabel",attrs:{label:"VIP3："}},[a("el-time-picker",{attrs:{format:"HH:mm",size:"small",placeholder:"请选择最晚退房时间"},model:{value:t.Receptiondata.time3,callback:function(e){t.Receptiondata.time3=e},expression:"Receptiondata.time3"}})],1),t._v(" "),a("el-form-item",{staticClass:"timelabel",attrs:{label:"VIP4："}},[a("el-time-picker",{attrs:{format:"HH:mm",size:"small",placeholder:"请选择最晚退房时间"},model:{value:t.Receptiondata.time4,callback:function(e){t.Receptiondata.time4=e},expression:"Receptiondata.time4"}})],1)],1)]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("Receptiondata")}}},[t._v("保存")])],1)],1)],1):t._e()]),t._v(" "),a("el-tab-pane",{attrs:{label:"长包房设置",name:"second"}},[a("div",{staticClass:"video-top"},[a("div",{staticClass:"clearfix"},[t.Hoteldata?a("el-form",{staticClass:"demo-form-inline fl Hoteldata",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"选择酒店："}},[a("el-select",{attrs:{placeholder:"请选择酒店"},on:{change:t.changeHotel2},model:{value:t.hotelId2,callback:function(e){t.hotelId2=e},expression:"hotelId2"}},t._l(t.Hoteldata,function(t){return a("el-option",{key:t.hotelId,attrs:{label:t.name,value:t.hotelId}})}))],1)],1):t._e(),t._v(" "),a("el-button",{staticClass:"video fr",attrs:{type:"warning",size:"small"}},[a("i",{staticClass:"iconfont icon-shipin"}),t._v(" 视频教程")])],1),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.newadd}},[t._v("新增规则")])],1),t._v(" "),t.Hoteldata?a("div",{staticClass:"second-box plr50"},[a("h2",[t._v("已创建的长包房规则列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.roomdata}},[a("el-table-column",{attrs:{prop:"categoryName",label:"房间类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ruleName",label:"规则名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"checkInDay",label:"起订天数"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rackRate",label:"门市价(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t._f("money")(e.row.rackRate))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"discount",label:"折扣率"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t._f("money")(e.row.discount))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"长包价/天(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.rackRate/100*e.row.discount/100)+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"deposit",label:"押金(元)"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(t._f("money")(e.row.deposit))+"\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(a){t.handleEdit(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.roompages>1?a("el-pagination",{attrs:{"current-page":t.roompage,layout:"prev, pager, next, jumper","page-count":t.roompages},on:{"current-change":t.roomChange,"update:currentPage":function(e){t.roompage=e}}}):t._e()],1):t._e()]),t._v(" "),a("el-tab-pane",{attrs:{label:"授权管理",name:"third"}},[t.Hoteldata?a("div",{staticClass:"video-top"},[a("el-form",{staticClass:"demo-form-inline Hoteldata",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"选择酒店："}},[a("el-select",{attrs:{placeholder:"请选择酒店"},on:{change:t.changeHotel3},model:{value:t.hotelId3,callback:function(e){t.hotelId3=e},expression:"hotelId3"}},t._l(t.Hoteldata,function(t){return a("el-option",{key:t.hotelId,attrs:{label:t.name,value:t.hotelId}})}))],1)],1),t._v(" "),t.Hoteldata?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.dialogFormVisible1=!0}}},[t._v("新增授权人")]):t._e()],1):t._e(),t._v(" "),t.Hoteldata&&t.tauthorlist?a("div",{staticClass:"third-box plr50"},[a("h2",[t._v("已新增的核销员列表")]),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:t.tauthorlist}},[a("el-table-column",{attrs:{prop:"hotelName",label:"所属酒店"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"}}),t._v(" "),a("el-table-column",{attrs:{prop:"functions",label:"授权功能"}}),t._v(" "),a("el-table-column",{attrs:{prop:"scanCodeAuthorization",label:"关联授权"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              未关联\n            ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.scanCodeAuthorization?a("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(a){t.powerClosebtn(e.row)}}},[t._v("关闭授权")]):t._e(),t._v(" "),1==e.row.scanCodeAuthorization?a("el-button",{staticClass:"blue-button",attrs:{size:"small"},on:{click:function(a){t.poweropenbtn(e.row)}}},[t._v("开启授权")]):t._e(),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){t.powerDelete(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),t.tauthorpages>1?a("el-pagination",{attrs:{"page-count":t.tauthorpages,"current-page":t.currentPage3,layout:"prev, pager, next, jumper"},on:{"current-change":t.getauthor,"update:currentPage":function(e){t.currentPage3=e}}}):t._e()],1):t._e(),t._v(" "),t.Hoteldata&&!t.tauthorlist?a("div",{staticClass:"NoData"},[a("i",{staticClass:"el-icon-warning"}),t._v(" "),a("p",[t._v("您还没有授权人信息，\n          "),a("span",{on:{click:function(e){t.dialogFormVisible1=!0}}},[t._v("点击这里")]),t._v(" 添加授权人吧")])]):t._e()])],1),t._v(" "),a("el-dialog",{attrs:{title:t.newtitle,visible:t.dialogFormVisible,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"tinymodal regular"},on:{"update:visible":function(e){t.dialogFormVisible=e},close:t.cancelfn}},[a("el-form",{ref:"newdata",attrs:{rules:t.rules2,model:t.newdata,"label-width":"180px"}},[a("el-form-item",{attrs:{label:"房间类型：",prop:"categoryId"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.newdata.categoryId,callback:function(e){t.newdata.categoryId=e},expression:"newdata.categoryId"}},t._l(t.options,function(t){return a("el-option",{key:t.categoryId,attrs:{label:t.name,value:t.categoryId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"规则名称：",placeholder:"请输入内容",prop:"ruleName"}},[a("el-input",{model:{value:t.newdata.ruleName,callback:function(e){t.newdata.ruleName=e},expression:"newdata.ruleName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"起订天数",placeholder:"请输入内容",prop:"checkInDay"}},[a("el-input",{model:{value:t.newdata.checkInDay,callback:function(e){t.newdata.checkInDay=e},expression:"newdata.checkInDay"}}),t._v(" "),a("span",[t._v("天")])],1),t._v(" "),a("el-form-item",{attrs:{label:"折扣率：",prop:"discount"}},[a("el-input",{attrs:{placeholder:"请输入0.00至1.00间的小数"},model:{value:t.newdata.discount,callback:function(e){t.newdata.discount=e},expression:"newdata.discount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"押金：",prop:"deposit"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.newdata.deposit,callback:function(e){t.newdata.deposit=e},expression:"newdata.deposit"}},[a("template",{slot:"prepend"},[t._v("￥")])],2)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.referTo("newdata")}}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.cancelfn("newdata")}}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增授权人",visible:t.dialogFormVisible1,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"fullmodal accredit"},on:{"update:visible":function(e){t.dialogFormVisible1=e},close:t.powercancel}},[a("el-form",{attrs:{"label-width":"100px","label-position":"left"}},[a("el-form-item",{staticStyle:{height:"36px"},attrs:{label:"选择功能："}},[a("el-checkbox-group",{model:{value:t.authorFun,callback:function(e){t.authorFun=e},expression:"authorFun"}},t._l(t.authorFuncdata,function(e){return a("el-checkbox",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.dictCnName))])}))],1),t._v(" "),a("el-form-item",{attrs:{"label-width":"0"}},[a("el-input",{attrs:{icon:"search",placeholder:"审批人","on-icon-click":t.getstaff},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13))return null;t.getstaff(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),t._v(" "),a("el-table",{ref:"multipleSelection",staticStyle:{width:"480px",float:"left"},attrs:{data:t.storedata,height:"441","tooltip-effect":"dark"},on:{select:t.select,"select-all":t.allSelect}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"联系电话"}})],1),t._v(" "),a("div",{staticClass:"el-table el-table--fit el-table--enable-row-hover el-table--enable-row-transition el-table-right",staticStyle:{width:"275px",float:"right",height:"441px"}},[a("div",{staticClass:"hidden-columns"},[a("div")]),t._v(" "),a("div",{staticClass:"el-table__header-wrapper"},[a("table",{staticClass:"el-table__header",staticStyle:{width:"275px",height:"441px"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[a("colgroup",[a("col",{attrs:{name:"el-table_1_column_1",width:"275",height:"441"}}),a("col",{attrs:{name:"gutter",width:""}})]),t._v(" "),a("thead",[a("tr",[a("th",{staticClass:"el-table_1_column_1 is-leaf",attrs:{colspan:"1",rowspan:"1"}},[a("div",{staticClass:"cell"},[t._v("已选择："+t._s(t.selectProduct.length))])])])])])]),t._v(" "),a("div",{staticClass:"el-table__body-wrapper"},[a("table",{staticClass:"el-table__body",staticStyle:{width:"275px"},attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[a("colgroup",[a("col",{attrs:{name:"el-table_1_column_1",width:"262"}})]),t._v(" "),a("tbody",[a("ul",t._l(t.selectProduct,function(e,o){return a("li",{key:e.id},[a("span",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){t.toggleSelection(o)}}},[t._v("删除")])],1)}))])])]),t._v(" "),a("div",{staticClass:"el-table__column-resize-proxy",staticStyle:{display:"none"}}),t._v(" "),a("div",{staticClass:"resize-triggers"},[a("div",{staticClass:"expand-trigger"},[a("div",{staticStyle:{width:"280px",height:"201px"}})]),t._v(" "),a("div",{staticClass:"contract-trigger"})])]),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-pagination",{attrs:{"current-page":t.storePage,"page-count":t.storePages,layout:"prev, pager, next, jumper"},on:{"current-change":t.storeCurrentChange,"update:currentPage":function(e){t.storePage=e},"update:pageCount":function(e){t.storePages=e}}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addPreservation()}}},[t._v("保 存")]),t._v(" "),a("el-button",{on:{click:t.powercancel}},[t._v("取 消")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogFormVisible3,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal storey"},on:{"update:visible":function(e){t.dialogFormVisible3=e}}},[a("Confirm",{attrs:{Popup:"保存成功"}})],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogFormVisible4,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal header-hidder"},on:{"update:visible":function(e){t.dialogFormVisible4=e}}},[t._v("\n    确认删除？\n    "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.deleteroomfn}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogFormVisible4=!1}}},[t._v("取 消")])],1)]),t._v(" "),a("el-dialog",{ref:"materialUrl",attrs:{title:"素材库",visible:t.library,"modal-append-to-body":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.library=e}}},[a("div",[a("iframe",{staticStyle:{width:"100%",height:"450px",border:"0px"},attrs:{src:t.materialUrl,scrolling:"no"}})])]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogFormVisible2,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal"},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[t._v("\n    确认删除？\n    "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.powerdleEditfn}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogFormVisible5,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"Smallmodal authorize"},on:{"update:visible":function(e){t.dialogFormVisible5=e}}},[a("div",[a("i",{staticClass:"el-icon-warning"}),t._v(" "),a("div",{staticClass:"text"},[a("h5",[t._v("确定要关闭授权吗？")]),t._v(" "),a("p",[t._v("点击确定后，该员工不可扫码授权。")])])]),t._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.powerClosefn}},[t._v("确 定")]),t._v(" "),a("el-button",{on:{click:function(e){t.dialogFormVisible5=!1}}},[t._v("取 消")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"关联授权",visible:t.dialogFormVisible6,beforeClose:t.beforeClosefn,"modal-append-to-body":!1,"close-on-click-modal":!1,"custom-class":"tinymodal poweroper"},on:{"update:visible":function(e){t.dialogFormVisible6=e}}},[a("img",{attrs:{src:t.imgURL,alt:""}}),t._v(" "),a("p",[t._v("关联二维码后，当员工进行相应功能操作时，授权人可以扫码授权")])])],1)},staticRenderFns:[]}},287:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Increase"},[a("div",{staticClass:"pl50"},[t._m(0),t._v(" "),a("div",{staticClass:"clearfix"},t._l(t.Hotellist,function(e,o){return a("div",{key:o,staticClass:"item"},[a("div",{staticClass:"above clearfix"},[a("img",{attrs:{src:e.logoUrl}}),t._v(" "),a("div",{staticClass:"text"},[a("el-tooltip",{attrs:{effect:"dark",content:e.name,placement:"top-start"}},[a("h3",[t._v(t._s(e.name))])]),t._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:e.phone,placement:"top-start"}},[a("p",[t._v("联系电话："+t._s(e.phone))])]),t._v(" "),a("el-tooltip",{attrs:{effect:"dark",content:e.address,placement:"top-start"}},[a("p",{staticClass:"ellipsis"},[t._v("地址："+t._s(e.address))])])],1)]),t._v(" "),a("div",{staticClass:"item-bottom"},[a("router-link",{staticClass:"el-button blue-button el-button--default el-button--small",attrs:{to:"/ERPSet/"+e.hotelId+"/"+e.shopId,tag:"el-button"}},[t._v("ERP设置")])],1)])}))])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Increase-title"},[a("h2",[t._v("已创建的酒店")])])}]}}},[164]);