package com.gt.hotel.ws;

import com.alibaba.fastjson.JSONObject;
import com.gt.hotel.BasicTest;
import org.apache.cxf.jaxws.endpoint.dynamic.JaxWsDynamicClientFactory;
import org.junit.Test;

/**
 * @author zhangmz
 * @version 1.0.0
 * @date 2017/07/28
 */
public class BusUserServiceWsTest extends BasicTest {

    //    @Autowired
    //    private BusUserServiceWs busUserServiceWs;

    @Test
    public void findByUid() throws Exception {
	JaxWsDynamicClientFactory dcf = JaxWsDynamicClientFactory.newInstance();
	org.apache.cxf.endpoint.Client client = dcf.createClient( "http://localhost:8080/webservice/BusUserServiceWs?wsdl" );
	//        client.getOutInterceptors().add( new CXFClientAuthorInterceptor("duofriend", "123456") );
	//hello 为接口中定义的方法名称 zhangmz为传递的参数  返回一个Object
	Object objects = client.invoke( "findByUid", 134 );
	//输出调用结果
	System.out.println( "*****" + JSONObject.toJSONString( objects ) );
    }

}